{"ast":null,"code":"import'./App.css';import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Alert=_ref=>{let{message,duration=2000,onClose}=_ref;useEffect(()=>{const timer=setTimeout(()=>{onClose();},duration);return()=>clearTimeout(timer);},[duration,onClose]);return/*#__PURE__*/_jsx(\"div\",{className:\"alert\",children:message});};function importAllImages(r){return r.keys().map(r);}const images=importAllImages(require.context('./static/images',false,/\\.(jpg|png|svg)$/));const copyImageToClipboard=async(imageUrl,setAlertMessage)=>{try{const response=await fetch(imageUrl);const blob=await response.blob();const reader=new FileReader();reader.readAsDataURL(blob);reader.onloadend=async()=>{setAlertMessage('Image started to download');};}catch(error){console.error('Failed to copy image to clipboard:',error);setAlertMessage('Failed to copy image.');}};const ImageGallery=()=>{const[alertMessage,setAlertMessage]=useState('');const handleAlertClose=()=>setAlertMessage('');const imageElements=images.map((image,index)=>{const imageUrl=image.default||image;// Handle Webpack's default property\nconst imageName=`image${index+1}`;return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"a\",{download:imageName,href:imageUrl,children:/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:imageName,onClick:()=>copyImageToClipboard(imageUrl,setAlertMessage),style:{cursor:'pointer'}})})},index);});return/*#__PURE__*/_jsxs(\"div\",{className:\"showcase\",children:[imageElements,alertMessage&&/*#__PURE__*/_jsx(Alert,{message:alertMessage,duration:2000,onClose:handleAlertClose})]});};function App(){return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"name\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Collection\"})})}),/*#__PURE__*/_jsx(\"div\",{id:\"container\",className:\"container\",children:/*#__PURE__*/_jsx(ImageGallery,{})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Alert","_ref","message","duration","onClose","timer","setTimeout","clearTimeout","className","children","importAllImages","r","keys","map","images","require","context","copyImageToClipboard","imageUrl","setAlertMessage","response","fetch","blob","reader","FileReader","readAsDataURL","onloadend","error","console","ImageGallery","alertMessage","handleAlertClose","imageElements","image","index","default","imageName","download","href","src","alt","onClick","style","cursor","App","id"],"sources":["/home/yoon/Documents/personal/code/node/github-page/src/App.js"],"sourcesContent":["import './App.css';\nimport React, { useState, useEffect } from 'react';\n\nconst Alert = ({ message, duration = 2000, onClose }) => {\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      onClose();\n    }, duration);\n\n    return () => clearTimeout(timer);\n  }, [duration, onClose]);\n\n  return (\n    <div className=\"alert\">\n      {message}\n    </div>\n  );\n};\n\nfunction importAllImages(r) {\n  return r.keys().map(r);\n}\n\nconst images = importAllImages(require.context('./static/images', false, /\\.(jpg|png|svg)$/));\n\nconst copyImageToClipboard = async (imageUrl, setAlertMessage) => {\n  try {\n      const response = await fetch(imageUrl);\n      const blob = await response.blob();\n\n      const reader = new FileReader();\n      reader.readAsDataURL(blob);\n\n      reader.onloadend = async () => {\n\n\n          setAlertMessage('Image started to download');\n      };\n  } catch (error) {\n      console.error('Failed to copy image to clipboard:', error);\n          setAlertMessage('Failed to copy image.');\n  }\n};\n\nconst ImageGallery = () => {\n  const [alertMessage, setAlertMessage] = useState('');\n\n  const handleAlertClose = () => setAlertMessage('');\n\n  const imageElements = images.map((image, index) => {\n    const imageUrl = image.default || image;  // Handle Webpack's default property\n    const imageName = `image${index + 1}`;\n\n    return (\n      <div key={index} className=\"card\">\n        <a download={imageName} href={imageUrl}>\n          <img\n            src={imageUrl}\n            alt={imageName}\n            onClick={() => copyImageToClipboard(imageUrl, setAlertMessage)}\n            style={{ cursor: 'pointer' }}\n          />\n        </a>\n      </div>\n    );\n  });\n\n  return (\n    <div className=\"showcase\">\n      {imageElements}\n      {alertMessage && (\n        <Alert\n          message={alertMessage}\n          duration={2000}\n          onClose={handleAlertClose}\n        />\n      )}\n    </div>\n  );\n};\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <div className=\"header\">\n      <div className=\"name\">\n      <span>Collection</span>\n      </div>\n      </div>\n      <div id=\"container\" className=\"container\">\n      <ImageGallery />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}